Прежде чем давать ответ по правкам к какому либо файлу, всегда обновляй знаия о его полном коде. Начинай изучение кода с первой и до последней строчки в файле, раздели это для себя на серию по 200 строк. Когда изучил файл до конца, то тогда предлагай решение и изменения в коде.  
Аккурано вноси правки, что бы не поломать рабочий функционал и не дублировать существующий.
Нужно при первом обнаружении файлов в каждой камере приписать префикс с серийным номером, и на протяжении всей дальнейшей работы обязательно использовать этот префикс, и никогда больше нигде в коде не использовать оригинальное имя файла а только с данным ему префиксом. Изучай код файлов всех с этим связанный. Вноси точечные изменения, минимальные изменения для последовательных тестов изменений что бы копировать файлы с одинаковыми именами с разных камер. 